press_releases = [
    {
        'date': 'September 2, 2016',
        'title': '[Statement] Samsung Will Replace Current Note7 with New One',
        'content': """Samsung is committed to producing the highest quality products and we take every incident report from our valued customers very seriously. In response to recently reported cases of the new Galaxy Note7, we conducted a thorough investigation and found a battery cell issue.

To date (as of September 1) there have been 35 cases that have been reported globally and we are currently conducting a thorough inspection with our suppliers to identify possible affected batteries in the market. However, because our customers’ safety is an absolute priority at Samsung, we have stopped sales of the Galaxy Note7.

For customers who already have Galaxy Note7 devices, we will voluntarily replace their current device with a new one over the coming weeks.

We acknowledge the inconvenience this may cause in the market but this is to ensure that Samsung continues to deliver the highest quality products to our customers. We are working closely with our partners to ensure the replacement experience is as convenient and efficient as possible."""
    },
    {
        'date': 'September 10, 2016',
        'title': 'Samsung Urges Galaxy Note7 Users to Immediately Participate in The Replacement Program',
        'content': """Just over a week ago, Samsung Electronics announced a global replacement program for the Galaxy Note7 as a precautionary measure due to a battery cell issue. Since then, we have been working hard to expedite product shipments in order to fulfill that exchange program and reduce any inconvenience for our customers. During the past week, we understand that there are concerns from our customers and we wish to emphasize the importance of exchanging the product.

“Our number one priority is the safety of our customers. We are asking users to power down their Galaxy Note7s and exchange them as soon as possible,” says DJ Koh, President of Mobile Communications Business, Samsung Electronics. “We are expediting replacement devices so that they can be provided through the exchange program as conveniently as possible and in compliance with related regulations. We sincerely thank our customers for their understanding and patience.”

Although there have been only a small number of reported incidents, Samsung is taking great care to provide customers with necessary support. Samsung has identified the affected inventory and stopped sales and shipments of those devices. We are also collaborating with national regulatory bodies.

Customers who have Galaxy Note7 devices can replace their current device with a new device based on local availability. We encourage Galaxy Note7 customers to contact their place of purchase or call the designated call center locally as soon as possible."""
    },
    {
        'date': 'September 27, 2016',
        'title': 'Samsung Global Replacement Program for Galaxy Note7 Update: Many Choosing to Stick with Device',
        'content': """On September 2, 2016, Samsung Electronics announced a global replacement program for the Galaxy Note7 due to an isolated battery cell issue. Since then, the company has been working hard to expedite product shipments in order to execute the exchange program and reduce any inconvenience for Galaxy Note7 customers.

“Just over three weeks ago, Samsung committed to a global replacement program for the Galaxy Note7. Last week, that program began for the majority of markets and the progress is encouraging” said DJ Koh, President of Mobile Communications Business, Samsung Electronics. “Our focus now is to make sure that all affected devices are replaced as quickly and efficiently as possible.”

Since initiating the global replacement program, initial Galaxy Note7 customer response has been strong.

- Around 90 percent of Galaxy Note7 users have been choosing a new Galaxy Note7 since products became widely available.
- More than 60 percent of all recalled Galaxy Note7 phones sold in the U.S. and Korea have been exchanged through the program.
- In Singapore, more than 80 percent of customers have participated in the exchange program, which started on September 17.

“We are humbled by our customers’ loyalty to the Galaxy Note7 device,” said Koh. “This is why we want them to take advantage of their local replacement program so that they can continue to feel confident and excited every time they reach for their Galaxy Note7 device.”

Although there have been only a small number of reported incidents, Samsung is taking great care to provide customers with necessary support. Samsung has been collaborating with national regulatory bodies in this effort.

Customers who have affected Galaxy Note7 devices should power down and return their devices. They can replace their current device with a new device based on local availability. We encourage Galaxy Note7 customers to contact their place of purchase or call the designated local call center as soon as possible."""
    },
    {
        'date': 'October 11, 2016',
        'title': 'Samsung Will Ask All Global Partners to Stop Sales and Exchanges of Galaxy Note7 While Further Investigation Takes Place',
        'content': """We are working with relevant regulatory bodies to investigate the recently reported cases involving the Galaxy Note7. Because consumers’ safety remains our top priority, Samsung will ask all carrier and retail partners globally to stop sales and exchanges of the Galaxy Note7 while the investigation is taking place.

We remain committed to working diligently with appropriate regulatory authorities to take all necessary steps to resolve the situation. Consumers with either an original Galaxy Note7 or replacement Galaxy Note7 device should power down and stop using the device and take advantage of the remedies available."""
    },
    {
        'date': 'January 20, 2017',
        'title': 'Samsung to Announce Findings of Galaxy Note7 Investigations at Press Conference',
        'content': """Following several months of comprehensive investigations, Samsung executives will announce the cause of the Galaxy Note7 incidents and quality enhancement plan during a press conference in Seoul, South Korea, on January 23, 2017 at 10am(KST).

Samsung Electronics, as well as independent expert organizations who conducted their own investigations into various aspects of the Galaxy Note7 incidents, will share their findings. In addition, Samsung will discuss the new measures the company has implemented in response to the incidents.

The full press conference will be available via live-stream globally, and can be accessed through www.samsung.com/galaxy and Samsung Newsroom."""
    },
    {
        'date': 'January 23, 2017',
        'title': 'Samsung Electronics Announces Cause of Galaxy Note7 Incidents in Press Conference',
        'content': """Following several months of in-depth investigations, Samsung Electronics today announced the cause of the Note7 incidents and measures to prevent a recurrence during a press conference held in Seoul, Korea. DJ Koh, President of Mobile Communications Business, Samsung Electronics, shared detailed results of the investigation and expressed his sincere apology and gratitude to Galaxy Note7 customers, mobile operators, retail and distribution partners and business partners for their patience and continued support.

Koh was joined by executives from UL, Exponent and TUV Rheinland, leading independent industry groups that conducted their own investigation into various aspects of the Galaxy Note7 incidents.

Speakers included:

* Sajeev Jesudas, President, Consumer Business Unit, UL
* Kevin White, Ph.D, Principal Scientist, Exponent
* Holger Kunz, Executive Vice President Products, TUV Rheinland AG

Speakers discussed the findings of the investigations in depth and unveiled new measures Samsung has taken to respond to the incidents.

Based on what the company learned from the investigation, Samsung implemented a broad range of internal quality and safety processes to further enhance product safety including additional protocols such as the multi-layer safety measures and 8-Point Battery Safety Check. Samsung also formed a Battery Advisory Group of external advisers, academic and research experts to ensure it maintains a clear and objective perspective on battery safety and innovation. Battery Advisory Group members include:

* Clare Grey, Ph.D., Professor of Chemistry, University of Cambridge
* Gerbrand Ceder, Ph.D., Professor of Materials Science and Engineering, UC Berkeley
* Yi Cui, Ph.D., Professor of Materials Science and Engineering, Stanford University
* Toru Amazutsumi, Ph.D., CEO, Amaz Techno-consultant

“For the last several months, together with independent industry expert organizations, we conducted thorough investigation to find cause to the Galaxy Note7 incidents.” Koh said, “Today, more than ever, we are committed to earning the trust of our customers through innovation that redefines what is possible in safety, and as a gateway to unlimited possibilities and incredible new experiences.”"""
    },
    {
        'date': 'March 27, 2017',
        'title': 'Samsung to Set the Principles to Recycle of Returned Galaxy Note7 Devices in an Environmentally Friendly Way',
        'content': """Samsung Electronics has established three principles to ensure that Galaxy Note 7 devices are recycled and processed in an environmentally-friendly manner.

First, devices shall be considered to be used as refurbished phones or rental phones where applicable.

Second, salvageable components shall be detached for reuse.

Third, processes such as metals extraction shall be performed using environmentally friendly methods.

Regarding the Galaxy Note 7 devices as refurbished phones or rental phones, applicability is dependent upon consultations with regulatory authorities and carriers as well as due consideration of local demand. The markets and release dates will be determined accordingly.

For remaining Galaxy Note 7 devices, components such as semiconductors and camera modules shall be detached by companies specializing in such services and used for test sample production purposes.

Finally, for left over component recycling, Samsung shall first extract precious metals, such as copper, nickel, gold and silver by utilizing eco-friendly companies specializing in such processes.

As part of our ongoing commitment to recycling, Samsung also plans to join the EU’s R&D and test efforts to develop new eco-friendly processing methods."""
    }
]

import re
from collections import Counter

def find_keywords(text, keywords):
    found = []
    for kw in keywords:
        if re.search(r'\b' + re.escape(kw) + r'\b', text, re.IGNORECASE):
            found.append(kw)
    return found

# Define keyword lists
tone_keywords = {
    'Apologetic': ['apology', 'sorry', 'regret', 'apologize', 'acknowledge', 'inconvenience'],
    'Urgent': ['immediately', 'as soon as possible', 'urgently', 'power down', 'stop using'],
    'Positive': ['loyalty', 'excited', 'humbled', 'thank', 'committed', 'encouraging', 'strong'],
    'Concerned': ['concerns', 'safety', 'priority', 'issue', 'incidents']
}

strategy_keywords = {
    'Transparency': ['investigation', 'findings', 'announce', 'independent', 'detailed', 'share'],
    'Repair': ['replacement', 'exchange', 'apology', 'safety measures', 'remedies', 'resolve'],
    'Denial': ['not', 'deny', 'isolated', 'small number'],
    'Rapid Response': ['expedite', 'quickly', 'efficiently', 'as soon as possible', 'diligently']
}

stakeholder_keywords = {
    'Customers': ['customers', 'users', 'consumers'],
    'Partners': ['partners', 'carriers', 'retail', 'distribution', 'suppliers'],
    'Regulatory Bodies': ['regulatory bodies', 'regulatory authorities', 'national regulatory'],
    'Experts': ['experts', 'independent', 'advisers', 'academic']
}

# Analyze each press release
analysis = []
for pr in press_releases:
    content = pr['content'].lower()
    tone = {k: find_keywords(content, v) for k, v in tone_keywords.items()}
    strategy = {k: find_keywords(content, v) for k, v in strategy_keywords.items()}
    stakeholder = {k: [kw for kw in v if re.findall(r'\b' + re.escape(kw) + r'\b', content)] for k, v in stakeholder_keywords.items()}
    stakeholder_counts = {k: len(v) for k, v in stakeholder.items()}
    
    analysis.append({
        'date': pr['date'],
        'title': pr['title'],
        'tone': tone,
        'strategy': strategy,
        'stakeholder': stakeholder_counts
    })

# Print analysis
for a in analysis:
    print(f"Date: {a['date']}")
    print(f"Title: {a['title']}")
    print("Tone:")
    for k, v in a['tone'].items():
        print(f"  {k}: {v}")
    print("Messaging Strategies:")
    for k, v in a['strategy'].items():
        print(f"  {k}: {v}")
    print("Stakeholder Focus:")
    for k, v in a['stakeholder'].items():
        print(f"  {k}: {v}")
    print("\n")

# For narrative evolution, this requires qualitative analysis, so just list dates and titles for overview
print("Narrative Evolution Overview:")
for pr in press_releases:
    print(f"{pr['date']} - {pr['title']}")
